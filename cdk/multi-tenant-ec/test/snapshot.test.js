"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const aws_cdk_lib_1 = require("aws-cdk-lib");
const assertions_1 = require("aws-cdk-lib/assertions");
const global_stack_1 = require("../lib/global-stack");
const main_stack_1 = require("../lib/main-stack");
// dev.tsのパラメータをインポート
const dev_1 = require("../params/dev");
const app = new aws_cdk_lib_1.App();
// GlobalStackを作成（バージニアリージョン）
const globalStack = new global_stack_1.GlobalStack(app, "TestGlobalStack", dev_1.params.globalStackProps);
// MainStackを作成（東京リージョン）
const mainStack = new main_stack_1.MainStack(app, "TestMainStack", {
    ...dev_1.params.mainStackProps,
    cloudfrontCertificate: globalStack.cloudfrontCertificate,
    cloudFrontWebAcl: globalStack.cloudFrontWebAcl,
});
describe("スナップショットテスト", () => {
    test("GlobalStack スナップショットテスト", () => {
        const template = assertions_1.Template.fromStack(globalStack);
        expect(template.toJSON()).toMatchSnapshot();
    });
    test("MainStack スナップショットテスト", () => {
        const template = assertions_1.Template.fromStack(mainStack);
        expect(template.toJSON()).toMatchSnapshot();
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic25hcHNob3QudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInNuYXBzaG90LnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2Q0FBa0M7QUFDbEMsdURBQWtEO0FBQ2xELHNEQUFrRDtBQUNsRCxrREFBOEM7QUFDOUMscUJBQXFCO0FBQ3JCLHVDQUF1QztBQUV2QyxNQUFNLEdBQUcsR0FBRyxJQUFJLGlCQUFHLEVBQUUsQ0FBQztBQUV0Qiw2QkFBNkI7QUFDN0IsTUFBTSxXQUFXLEdBQUcsSUFBSSwwQkFBVyxDQUNqQyxHQUFHLEVBQ0gsaUJBQWlCLEVBQ2pCLFlBQU0sQ0FBQyxnQkFBZ0IsQ0FDeEIsQ0FBQztBQUVGLHdCQUF3QjtBQUN4QixNQUFNLFNBQVMsR0FBRyxJQUFJLHNCQUFTLENBQUMsR0FBRyxFQUFFLGVBQWUsRUFBRTtJQUNwRCxHQUFHLFlBQU0sQ0FBQyxjQUFjO0lBQ3hCLHFCQUFxQixFQUFFLFdBQVcsQ0FBQyxxQkFBcUI7SUFDeEQsZ0JBQWdCLEVBQUUsV0FBVyxDQUFDLGdCQUFnQjtDQUMvQyxDQUFDLENBQUM7QUFFSCxRQUFRLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtJQUMzQixJQUFJLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFO1FBQ25DLE1BQU0sUUFBUSxHQUFHLHFCQUFRLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2pELE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUM5QyxDQUFDLENBQUMsQ0FBQztJQUVILElBQUksQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLEVBQUU7UUFDakMsTUFBTSxRQUFRLEdBQUcscUJBQVEsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDL0MsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQzlDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiYXdzLWNkay1saWJcIjtcbmltcG9ydCB7IFRlbXBsYXRlIH0gZnJvbSBcImF3cy1jZGstbGliL2Fzc2VydGlvbnNcIjtcbmltcG9ydCB7IEdsb2JhbFN0YWNrIH0gZnJvbSBcIi4uL2xpYi9nbG9iYWwtc3RhY2tcIjtcbmltcG9ydCB7IE1haW5TdGFjayB9IGZyb20gXCIuLi9saWIvbWFpbi1zdGFja1wiO1xuLy8gZGV2LnRz44Gu44OR44Op44Oh44O844K/44KS44Kk44Oz44Od44O844OIXG5pbXBvcnQgeyBwYXJhbXMgfSBmcm9tIFwiLi4vcGFyYW1zL2RldlwiO1xuXG5jb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5cbi8vIEdsb2JhbFN0YWNr44KS5L2c5oiQ77yI44OQ44O844K444OL44Ki44Oq44O844K444On44Oz77yJXG5jb25zdCBnbG9iYWxTdGFjayA9IG5ldyBHbG9iYWxTdGFjayhcbiAgYXBwLFxuICBcIlRlc3RHbG9iYWxTdGFja1wiLFxuICBwYXJhbXMuZ2xvYmFsU3RhY2tQcm9wcyxcbik7XG5cbi8vIE1haW5TdGFja+OCkuS9nOaIkO+8iOadseS6rOODquODvOOCuOODp+ODs++8iVxuY29uc3QgbWFpblN0YWNrID0gbmV3IE1haW5TdGFjayhhcHAsIFwiVGVzdE1haW5TdGFja1wiLCB7XG4gIC4uLnBhcmFtcy5tYWluU3RhY2tQcm9wcyxcbiAgY2xvdWRmcm9udENlcnRpZmljYXRlOiBnbG9iYWxTdGFjay5jbG91ZGZyb250Q2VydGlmaWNhdGUsXG4gIGNsb3VkRnJvbnRXZWJBY2w6IGdsb2JhbFN0YWNrLmNsb3VkRnJvbnRXZWJBY2wsXG59KTtcblxuZGVzY3JpYmUoXCLjgrnjg4rjg4Pjg5fjgrfjg6fjg4Pjg4jjg4bjgrnjg4hcIiwgKCkgPT4ge1xuICB0ZXN0KFwiR2xvYmFsU3RhY2sg44K544OK44OD44OX44K344On44OD44OI44OG44K544OIXCIsICgpID0+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IFRlbXBsYXRlLmZyb21TdGFjayhnbG9iYWxTdGFjayk7XG4gICAgZXhwZWN0KHRlbXBsYXRlLnRvSlNPTigpKS50b01hdGNoU25hcHNob3QoKTtcbiAgfSk7XG5cbiAgdGVzdChcIk1haW5TdGFjayDjgrnjg4rjg4Pjg5fjgrfjg6fjg4Pjg4jjg4bjgrnjg4hcIiwgKCkgPT4ge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gVGVtcGxhdGUuZnJvbVN0YWNrKG1haW5TdGFjayk7XG4gICAgZXhwZWN0KHRlbXBsYXRlLnRvSlNPTigpKS50b01hdGNoU25hcHNob3QoKTtcbiAgfSk7XG59KTtcbiJdfQ==